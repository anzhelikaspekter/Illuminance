<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Secure login page for registered users. Access your dashboard and continue your workflow safely.">
    <title>Illuminance</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/style.min.css">
</head>

<body>
    <!-- Header -->
    <header class="section header" role="banner">
        <nav class="header__nav" aria-label="Primary">
            <!-- Menu -->
            <a href="menu.html" class="header__menu header__menu--light">
                <span class="icon menu menu--light" aria-hidden="true"></span>
                <span class="desc primary primary--dark visually-hidden">Menu</span>
            </a>
            <!-- Logo -->
            <a href="index.html">
                <img src="img/logo.svg" width="208" height="24" alt="Illuminance" class="logo">
            </a>

            <!-- Lang Menu -->
            <div class="header__lang-wrap">
                <button class="header__lang header__lang--light" type="button" aria-haspopup="menu"
                    aria-expanded="false" aria-controls="lang-menu">
                    <span class="icon en" aria-hidden="true"></span>
                    <span class="desc primary primary--light visually-hidden">Language</span>
                </button>
                <ul id="lang-menu" class="header__lang-menu" role="menu" hidden>
                    <li role="none">
                        <button role="menuitemradio" class="header__lang header__lang--light" type="button"
                            data-lang="en" aria-checked="true" tabindex="0">
                            <span class="icon en" aria-hidden="true"></span>
                            <span class="desc primary primary--light visually-hidden">English</span>
                        </button>
                    </li>
                    <li role="none">
                        <button role="menuitemradio" class="header__lang header__lang--light" type="button"
                            data-lang="uk" aria-checked="false" tabindex="-1">
                            <span class="icon uk" aria-hidden="true"></span>
                            <span class="desc primary primary--light visually-hidden">Українська</span>
                        </button>
                    </li>
                </ul>
                <output id="lang-status" class="visually-hidden" aria-live="polite"></output>
            </div>
        </nav>
    </header>
    <!-- Main -->
    <main class="content">

    </main>
    <!-- Footer -->
    <footer class="section footer">
        <div class="footer__wrap">
            <div class="footer__info">
                <div class="footer__info-wrap">
                    <a href="index.html">
                        <img src="img/logo_black.svg" width="208" height="24" alt="Illuminance" class="logo">
                    </a>
                    <p class="desc primary primary--dark">Illuminance.com provides information and resources about the
                        fundamentals of
                        the
                        decentralised non-custodial liquidity protocol called the Aave Protocol, comprised.</p>
                </div>
                <!-- Social -->
                <ul class="social">
                    <li class="social__item">
                        <a href="#" class="social__link" aria-label="Twitter">
                            <span class="icon twitter" aria-hidden="true"></span>
                        </a>
                    </li>
                    <li class="social__item">
                        <a href="#" class="social__link" aria-label="Facebook">
                            <span class="icon facebook" aria-hidden="true"></span>
                        </a>
                    </li>
                    <li class="social__item">
                        <a href="#" class="social__link" aria-label="YouTube">
                            <span class="icon youtube" aria-hidden="true"></span>
                        </a>
                    </li>
                </ul>
            </div>
            <!-- Nav -->
            <ul class="footer__list">
                <li class="footer__item">
                    <nav class="footer__nav" aria-label="Resources">
                        <h3 class="title secondary secondary--dark">Resources</h3>
                        <ul class="footer__list--inner">
                            <li class="footer__item--inner">
                                <a href="" class="footer__link desc secondary secondary--middle">Blog</a>
                            </li>
                            <li class="footer__item--inner">
                                <a href="#" class="footer__link desc secondary secondary--middle">Brand</a>
                            </li>
                            <li class="footer__item--inner">
                                <a href="faq.html" class="footer__link desc secondary secondary--middle">FAQ</a>
                            </li>
                            <li class="footer__item--inner">
                                <a href="#" class="footer__link desc secondary secondary--middle">Help &amp; Support</a>
                            </li>
                            <li class="footer__item--inner">
                                <a href="#" class="footer__link desc secondary secondary--middle">Governance</a>
                            </li>
                        </ul>
                    </nav>
                </li>
                <li class="footer__item">
                    <nav class="footer__nav" aria-label="Developers">
                        <h3 class="title secondary secondary--dark">Developers</h3>
                        <ul class="footer__list--inner">
                            <li class="footer__item--inner">
                                <a href="#" class="footer__link desc secondary secondary--middle">Build</a>
                            </li>
                            <li class="footer__item--inner">
                                <a href="#" class="footer__link desc secondary secondary--middle">Case Studies</a>
                            </li>
                            <li class="footer__item--inner">
                                <a href="#" class="footer__link desc secondary secondary--middle">Documentation</a>
                            </li>
                            <li class="footer__item--inner">
                                <a href="#" class="footer__link desc secondary secondary--middle">Technical Paper</a>
                            </li>
                            <li class="footer__item--inner">
                                <a href="#" class="footer__link desc secondary secondary--middle">Security</a>
                            </li>
                            <li class="footer__item--inner">
                                <a href="#" class="footer__link desc secondary secondary--middle">Bug Bounty</a>
                            </li>
                        </ul>
                    </nav>
                </li>
                <li class="footer__item">
                    <nav class="footer__nav" aria-label="Company">
                        <h3 class="title secondary secondary--dark">Company</h3>
                        <ul class="footer__list--inner">
                            <li class="footer__item--inner">
                                <a href="privacy-policy.html" class="footer__link desc secondary secondary--middle">Privacy Policy</a>
                            </li>
                            <li class="footer__item--inner">
                                <a href="user-terms.html" class="footer__link desc secondary secondary--middle">Terms of Use</a>
                            </li>
                            <li class="footer__item--inner">
                                <a href="contact.html" class="footer__link desc secondary secondary--middle">Contact</a>
                            </li>
                        </ul>
                    </nav>
                </li>
            </ul>
        </div>
    </footer>
    <!-- Scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const links = document.querySelectorAll('.header__menu');

            links.forEach(link => {
                const icon = link.querySelector('.icon.menu');
                if (!icon) return;

                const LIGHT = 'menu--light';
                const DARK = 'menu--dark';

                const toDark = () => { icon.classList.remove(LIGHT); icon.classList.add(DARK); };
                const toLight = () => { icon.classList.remove(DARK); icon.classList.add(LIGHT); };

                link.addEventListener('mouseenter', toDark);
                link.addEventListener('mouseleave', toLight);

                link.addEventListener('focus', toDark);
                link.addEventListener('blur', toLight);

                link.addEventListener('touchstart', toDark, { passive: true });
                link.addEventListener('touchend', toLight, { passive: true });
                link.addEventListener('touchcancel', toLight, { passive: true });
            });
            /* LANGUAGE MENU */
            const root = document.documentElement;
            const langBtn = document.querySelector('.header__lang');
            const langMenu = document.getElementById('lang-menu');
            const langItems = Array.from(langMenu?.querySelectorAll('[role="menuitemradio"]') || []);
            const live = document.getElementById('lang-status');

            const LS_KEY = 'siteLang';
            const URL_PARAM = 'lang';

            function getDefaultLang() {
                const urlLang = URL_PARAM ? new URLSearchParams(location.search).get(URL_PARAM) : null;
                const lsLang = localStorage.getItem(LS_KEY);
                return (urlLang || lsLang || root.lang || 'en').toLowerCase();
            }

            function syncChecked(targetLang) {
                langItems.forEach(btn => {
                    const isActive = btn.dataset.lang.toLowerCase() === targetLang.toLowerCase();
                    btn.setAttribute('aria-checked', String(isActive));
                    btn.tabIndex = isActive ? 0 : -1;

                    if (isActive) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
            }


            function announce(text) {
                if (live) live.value = live.textContent = text;
            }

            function setLang(langCode, { persist = true, updateUrl = true } = {}) {
                const code = langCode.toLowerCase();
                document.documentElement.lang = code;
                syncChecked(code);
                announce(`Language: ${code}`);

                const triggerIcon = document.querySelector('.header__lang > .icon');

                if (triggerIcon) {
                    triggerIcon.className = `icon ${code}`;
                }

                if (persist) localStorage.setItem('siteLang', code);

                if (URL_PARAM && updateUrl) {
                    const sp = new URLSearchParams(location.search);
                    sp.set(URL_PARAM, code);
                    const newUrl = `${location.pathname}?${sp.toString()}${location.hash}`;
                    history.replaceState(null, '', newUrl);
                }
            }

            function openLangMenu() {
                langBtn.setAttribute('aria-expanded', 'true');
                langMenu.hidden = false;
                const current = langMenu.querySelector('[role="menuitemradio"][aria-checked="true"]') || langItems[0];
                current?.focus();
            }

            function closeLangMenu() {
                langBtn.setAttribute('aria-expanded', 'false');
                langMenu.hidden = true;
                langBtn.focus();
            }

            function toggleLangMenu() {
                const expanded = langBtn.getAttribute('aria-expanded') === 'true';
                expanded ? closeLangMenu() : openLangMenu();
            }

            function moveLangFocus(current, dir) {
                if (!current) return;
                const idx = langItems.indexOf(current);
                if (idx < 0) return;
                let nextIdx = idx + dir;
                if (nextIdx < 0) nextIdx = langItems.length - 1;
                if (nextIdx >= langItems.length) nextIdx = 0;
                langItems[nextIdx].focus();
            }

            const initial = (new URLSearchParams(location.search).get('lang')
                || localStorage.getItem('siteLang')
                || document.documentElement.lang
                || 'en').toLowerCase();
            setLang(initial, { persist: false, updateUrl: false });


            langBtn?.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleLangMenu();
            });

            document.addEventListener('click', (e) => {
                if (!langMenu.hidden && !e.target.closest('#lang-menu') && e.target !== langBtn) {
                    closeLangMenu();
                }
            });

            document.addEventListener('keydown', (e) => {
                if (!langMenu.hidden && e.key === 'Escape') {
                    e.preventDefault();
                    closeLangMenu();
                }
            });

            langItems.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const lang = btn.dataset.lang;
                    setLang(lang);
                    closeLangMenu();
                });

                btn.addEventListener('keydown', (e) => {
                    const key = e.key;
                    if (key === 'ArrowDown') {
                        e.preventDefault();
                        moveLangFocus(e.currentTarget, +1);
                    } else if (key === 'ArrowUp') {
                        e.preventDefault();
                        moveLangFocus(e.currentTarget, -1);
                    } else if (key === 'Home') {
                        e.preventDefault();
                        langItems[0].focus();
                    } else if (key === 'End') {
                        e.preventDefault();
                        langItems[langItems.length - 1].focus();
                    } else if (key === 'Enter' || key === ' ') {
                        e.preventDefault();
                        const lang = e.currentTarget.dataset.lang;
                        setLang(lang);
                        closeLangMenu();
                    } else if (key === 'Tab') {
                        closeLangMenu();
                    }
                });
            });
        });
    </script>
</body>

</html>